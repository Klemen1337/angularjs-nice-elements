<div ng-controller='ExampleCtrl'>
    <h1>Nice dropdown</h1>

    <!-- Examples -->
    <nice-wrapper>
        <div class="row">
            <div class="col-sm-6">
                <style>
                    .dropdown-event {
                        display: flex;
                        gap: 0.5rem;
                        align-items: center;
                    }

                    .dropdown-event img {
                        flex-shrink: 0;
                        height: 40px;
                        width: 40px;
                        border-radius: 50%;
                        object-fit: cover;
                    }

                    .dropdown-event label {
                        display: block;
                        margin: 0;
                    }
                </style>
                <nice-dropdown title="Event" model="dropdown6" search-function="fetchEvents" enable-load-more="true" nullable="true">
                    <nice-dropdown-button>
                        <div class="dropdown-event">
                            <img ng-src="{{ $parent.selected.thumbnail_photo }}" />
                            <div class="info">
                                <label>{{ $parent.selected.name }}</label>
                                <small>{{ $parent.selected.venue_name }}</small>
                            </div>
                        </div>
                    </nice-dropdown-button>
                    <nice-dropdown-option>
                        <div class="dropdown-event">
                            <img ng-src="{{ $parent.item.thumbnail_photo }}" />
                            <div class="info">
                                <label>{{ $parent.item.name }}</label>
                                <small>{{ $parent.item.venue_name }}</small>
                            </div>
                        </div>
                    </nice-dropdown-option>
                </nice-dropdown>
                <nice-slot>
                    <pre>{{ dropdown6 | json }}</pre>
                </nice-slot>
            </div>
            <div class="col-sm-6">
                <pre class="prettyprint">&lt;nice-dropdown 
    title="Event" 
    model="dropdown6" 
    search-function="fetchEvents" 
    nullable="true"
    enable-load-more="true"
>
    &lt;nice-dropdown-button>
        &lt;div class="dropdown-event">
            &lt;img ng-src="&lcub;&lcub; &dollar;parent.selected.thumbnail_photo &rcub;&rcub;" />
            &lt;div class="info">
                &lt;label>&lcub;&lcub; &dollar;parent.selected.name &rcub;&rcub;&lt;/label>
                &lt;small>&lcub;&lcub; &dollar;parent.selected.venue_name &rcub;&rcub;&lt;/small>
            &lt;/div>
        &lt;/div>
    &lt;/nice-dropdown-button>
    &lt;nice-dropdown-option>
        &lt;div class="dropdown-event">
            &lt;img ng-src="&lcub;&lcub; &dollar;parent.item.thumbnail_photo &rcub;&rcub;" />
            &lt;div class="info">
                &lt;label>&lcub;&lcub; &dollar;parent.item.name &rcub;&rcub;&lt;/label>
                &lt;small>&lcub;&lcub; &dollar;parent.item.venue_name &rcub;&rcub;&lt;/small>
            &lt;/div>
        &lt;/div>
    &lt;/nice-dropdown-option>
&lt;/nice-dropdown></pre>
            </div>
        </div>


        <div class="row">
            <div class="col-sm-6">
                <nice-dropdown title="Multi dropdown" model="dropdown" list="listObjs" dropdown-distance="0" multiple="true"></nice-dropdown>
                <nice-slot>
                    <pre>{{ dropdown | json }}</pre>
                </nice-slot>
            </div>
            <div class="col-sm-6">
                <pre class="prettyprint">&lt;nice-dropdown
    title="Multi dropdown" 
    model="dropdown" 
    list="listObjs" 
    dropdown-distance="0" 
    multiple="true">
&lt;/nice-dropdown></pre>
            </div>
        </div>


        <div class="row">
            <div class="col-sm-6">
                <nice-dropdown title="Dropdown" model="dropdown2" list="listObjs"></nice-dropdown>
                <nice-slot>
                    <pre>{{ dropdown2 | json }}</pre>
                </nice-slot>
            </div>
            <div class="col-sm-6">
                <pre class="prettyprint">&lt;nice-dropdown
    title="Dropdown" 
    model="dropdown2" 
    list="listObjs">
&lt;/nice-dropdown></pre>
            </div>
        </div>


        <div class="row">
            <div class="col-sm-6">
                <nice-dropdown title="Dropdown" model="dropdown3" list="listObjs"></nice-dropdown>
                <nice-slot>
                    <pre>{{ dropdown3 | json }}</pre>
                </nice-slot>
            </div>
            <div class="col-sm-6">
                <pre class="prettyprint">&lt;nice-dropdown 
    title="Dropdown" 
    model="dropdown3" 
    list="listObjs"
>&lt;/nice-dropdown></pre>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6">
                <ng-form name="forma">
                    <nice-dropdown title="Dropdown" model="dropdown4" list="listObjs" nullable="true" required="true"></nice-dropdown>
                    <nice-dropdown title="Dropdown 2" model="dropdown5" list="listObjs" nullable="true"></nice-dropdown>
                    <div class="text-right">
                        <button class="btn btn-primary" ng-disabled="forma.$invalid">Submit</button>
                    </div>
                </ng-form>
                <nice-slot>
                    <pre>{{ dropdown4 | json }}</pre>
                    <pre>{{ forma | json }}</pre>
                </nice-slot>
            </div>
            <div class="col-sm-6">
                <pre class="prettyprint">&lt;nice-dropdown 
    title="Dropdown" 
    model="dropdown4" 
    list="listObjs" 
    nullable="true" 
    required="true"
>&lt;/nice-dropdown></pre>
                <pre class="prettyprint">&lt;nice-dropdown 
    title="Dropdown 2" 
    model="dropdown5" 
    list="listObjs" 
    nullable="true"
>&lt;/nice-dropdown></pre>
            </div>
        </div>

        <hr>

        <div class="row">
            <div class="col-sm-6">
                <ng-form name="forma">
                    <nice-dropdown title="Dropdown" model="dropdown5" list="listObjs" nullable="true" selected-is-key="true" required="true" on-change="dropdownOnChange(model)" on-select="dropdownOnSelect(model)"></nice-dropdown>
                </ng-form>
                <nice-slot>
                    <code>{{ dropdown5 | json }}</code>
                </nice-slot>
            </div>
            <div class="col-sm-6">
                <pre class="prettyprint">&lt;nice-dropdown 
    title="Dropdown" 
    model="dropdown5" 
    list="listObjs" 
    nullable="true" 
    selected-is-key="true" 
    required="true" 
    on-change="dropdownOnChange(model)" 
    on-select="dropdownOnSelect(model)"
>&lt;/nice-dropdown></pre>
            </div>
        </div>
    </nice-wrapper>


    <!-- Attributes -->
    <nice-wrapper title="Attributes" collapsable="true" collapsed="true">
        <div class="table-responsive">
            <table class="table table-hover nice-table">
                <thead>
                    <tr>
                        <th>Command</th>
                        <th>Description</th>
                        <th>Default</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>list</td>
                        <td>List of available options</td>
                        <td>REQUIRED</td>
                    </tr>
                    <tr>
                        <td>addButtonEnable</td>
                        <td>Shows the button nex to the dropdown</td>
                        <td>false</td>
                    </tr>
                    <tr>
                        <td>objValue</td>
                        <td>Used only when returnOnlyKey = true</td>
                        <td>value</td>
                    </tr>
                    <tr>
                        <td>dropdownDistance</td>
                        <td>Dropdown menu distance form button</td>
                        <td>5</td>
                    </tr>
                    <!-- DEPRECATED -->
                    <!--<tr>-->
                    <!--<td>listIsObj</td>-->
                    <!--<td>True - list has objects, False - list has strings</td>-->
                    <!--<td>false</td>-->
                    <!--</tr>-->
                    <tr>
                        <td>selectedIsKey</td>
                        <td></td>
                        <td>false</td>
                    </tr>
                    <tr>
                        <td>showTax</td>
                        <td></td>
                        <td>false</td>
                    </tr>
                    <tr>
                        <td>noMargin</td>
                        <td>margin bottom is set to 0px</td>
                        <td>false</td>
                    </tr>
                    <tr>
                        <td>multiple</td>
                        <td>Can select multiple items</td>
                        <td>false</td>
                    </tr>
                    <tr>
                        <td>help</td>
                        <td></td>
                        <td>null</td>
                    </tr>
                    <tr>
                        <td>listenKeydown</td>
                        <td>If set to true, dropdown listens to keydown events and scrolls to first occurence that starts with pressed character.</td>
                        <td>null</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <button class="btn btn-default" ng-click="change_options()">change options and test how dropdowns updates internal list</button>
    </nice-wrapper>
</div>