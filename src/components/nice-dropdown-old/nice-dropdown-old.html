<div class="nice-component nice-dropdown-old" ng-class="{ 'margin-bottom-0': noMargin, 'nice-component-inline': isInline }">
    <div class="row">
        <!------------------------- Label ------------------------->
        <div class="nice-title col-xs-12" ng-class="labelWidth ? labelWidth : 'col-sm-4'" ng-if="title">
            <div class="nice-title-text">{{ title }}<span ng-if="required">*</span></div>
            <nice-help class="nice-title-help" ng-if="help" text="{{ help }}"></nice-help>
        </div>

        <!------------------------- Field ------------------------->
        <div class="nice-field col-xs-12" ng-class="fieldWidth ? fieldWidth : 'col-sm-8'">
            <div ng-class="addButtonEnable && !isDisabled ? 'input-group': ''">
                <div class="btn-group" dropdown is-open="status.isopen" ng-class="{ 'disabled': isDisabled || emptyList }">
                    <button
                        type="button"
                        class="btn btn-block btn-dropdown dropdown-toggle"
                        title="{{ getLabel(internalSelected) }}"
                        dropdown-toggle
                        ng-disabled="isDisabled || emptyList"
                    >

                        <span ng-if="internalSelected.color_hex_code" class="dropdown-color" ng-style="{'background': internalSelected.color_hex_code}"></span>
                        <span ng-if="!multiple">{{ getLabel(internalSelected) }}</span>

                        <span ng-if="multiple">
                            <!--<span ng-repeat="item in internalSelected"><span ng-if="$index > 0">, </span>{{ getLabel(item) }}</span>-->
                            <span ng-if="internalSelected.length  > 1">{{ internalSelected.length }} <translate translate-context="Nice">selected</translate></span>
                            <span ng-if="internalSelected.length  == 1">{{ getLabel(internalSelected[0]) }}</span>
                            <span ng-if="internalSelected.length == 0" translate translate-context="Nice">None</span>
                        </span>

                        <!--<span ng-if="showTax && internalSelected.value">{{ internalSelected.value * 100 }}%</span>-->
                        <span class="caret"></span>
                    </button>

                    <ul id="{{id}}" class="dropdown-menu" role="menu">
                        <li id="{{id}}-{{$index}}" ng-repeat="item in internalList" ng-click="clicked(item)">
                            <a href>
                                <span class="choice-checkbox" ng-if="multiple" ng-class="{ 'selected' : isItemSelected(item) }"><i class="fa fa-check"></i></span>
                                <span ng-if="item.color_hex_code" class="dropdown-color" ng-style="{'background': item.color_hex_code}"></span>
                                <span ng-class="{'multiple-item': multiple}">{{ getLabel(item) }}</span>
                                <!--<span ng-if="showTax && item.value">{{ item.value * 100 }}%</span>-->
                            </a>
                        </li>
                    </ul>
                </div>

                <span class="input-group-btn" ng-if="addButtonEnable && !isDisabled">
                    <button class="btn btn-primary" ng-click="addButtonFunction()" type="button">+</button>
                </span>
            </div>
        </div>
    </div>
    <!--Needed for intercepting form changes ($dirty)!-->
    <div ng-form="formDropdown"></div>
</div>